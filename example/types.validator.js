//@flow
'use strict';
// Generated by flow-jsonschema from ./types.js.
// DO NOT EDIT.

const assert = require('assert');
const Ajv = require('ajv');
const ajv = new Ajv();

/*::
export type A = $Exact<{bool: boolean, num: number, numLit: 1 | 20, numNull: ?number, numOpt?: number, str: string, strLit: "a" | "bc"}>;
export type B = $Exact<{arr: Array<$Exact<{bool: boolean, num: number, numLit: 1 | 20, numNull: ?number, numOpt?: number, str: string, strLit: "a" | "bc"}>>, c: string | number, d: boolean | null, e: $Exact<{a: 1, b: string}> | $Exact<{a: 2, b: number}>, tuple: [string, number, 1 | 2]}>;
*/

let g_validators = {};

// Checks whether `val` is a valid A.
// @returns `val` as is if it's a valid A, null if `val` is not valid.
module.exports["checkA"] = function checkA(val/*: A*/)/*: null | A*/ {
    let validator = g_validators["A"];
    if (validator == null) {
        let schema = {
            "type": "object",
            "properties": {
                "bool": {
                    "type": "boolean"
                },
                "num": {
                    "type": "number"
                },
                "numLit": {
                    "anyOf": [
                        {
                            "type": "number",
                            "enum": [
                                1
                            ]
                        },
                        {
                            "type": "number",
                            "enum": [
                                20
                            ]
                        }
                    ]
                },
                "numNull": {
                    "anyOf": [
                        {
                            "type": "null"
                        },
                        {
                            "type": "number"
                        }
                    ]
                },
                "numOpt": {
                    "type": "number"
                },
                "str": {
                    "type": "string"
                },
                "strLit": {
                    "anyOf": [
                        {
                            "type": "string",
                            "enum": [
                                "a"
                            ]
                        },
                        {
                            "type": "string",
                            "enum": [
                                "bc"
                            ]
                        }
                    ]
                }
            },
            "required": [
                "bool",
                "num",
                "numLit",
                "numNull",
                "str",
                "strLit"
            ]
        };
        validator = ajv.compile(schema);
        g_validators["A"] = validator;
    }
    let ret = validator(val);
    assert(typeof ret === 'boolean');
    if (ret) {
        return val;
    } else {
        return null;
    }
};

// Checks whether `val` is a valid B.
// @returns `val` as is if it's a valid B, null if `val` is not valid.
module.exports["checkB"] = function checkB(val/*: B*/)/*: null | B*/ {
    let validator = g_validators["B"];
    if (validator == null) {
        let schema = {
            "type": "object",
            "properties": {
                "arr": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "bool": {
                                "type": "boolean"
                            },
                            "num": {
                                "type": "number"
                            },
                            "numLit": {
                                "anyOf": [
                                    {
                                        "type": "number",
                                        "enum": [
                                            1
                                        ]
                                    },
                                    {
                                        "type": "number",
                                        "enum": [
                                            20
                                        ]
                                    }
                                ]
                            },
                            "numNull": {
                                "anyOf": [
                                    {
                                        "type": "null"
                                    },
                                    {
                                        "type": "number"
                                    }
                                ]
                            },
                            "numOpt": {
                                "type": "number"
                            },
                            "str": {
                                "type": "string"
                            },
                            "strLit": {
                                "anyOf": [
                                    {
                                        "type": "string",
                                        "enum": [
                                            "a"
                                        ]
                                    },
                                    {
                                        "type": "string",
                                        "enum": [
                                            "bc"
                                        ]
                                    }
                                ]
                            }
                        },
                        "required": [
                            "bool",
                            "num",
                            "numLit",
                            "numNull",
                            "str",
                            "strLit"
                        ]
                    }
                },
                "c": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "number"
                        }
                    ]
                },
                "d": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "e": {
                    "anyOf": [
                        {
                            "type": "object",
                            "properties": {
                                "a": {
                                    "type": "number",
                                    "enum": [
                                        1
                                    ]
                                },
                                "b": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "a",
                                "b"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "a": {
                                    "type": "number",
                                    "enum": [
                                        2
                                    ]
                                },
                                "b": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "a",
                                "b"
                            ]
                        }
                    ]
                },
                "tuple": {
                    "type": "array",
                    "items": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "number"
                        },
                        {
                            "anyOf": [
                                {
                                    "type": "number",
                                    "enum": [
                                        1
                                    ]
                                },
                                {
                                    "type": "number",
                                    "enum": [
                                        2
                                    ]
                                }
                            ]
                        }
                    ]
                }
            },
            "required": [
                "arr",
                "c",
                "d",
                "e",
                "tuple"
            ]
        };
        validator = ajv.compile(schema);
        g_validators["B"] = validator;
    }
    let ret = validator(val);
    assert(typeof ret === 'boolean');
    if (ret) {
        return val;
    } else {
        return null;
    }
};
